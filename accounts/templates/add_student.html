<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Student</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .page-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        /* Header Card */
        .header-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .header-card h2 {
            color: #333;
            font-size: 28px;
            font-weight: 700;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
        }

        /* Main Form Card */
        .form-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            overflow: hidden;
        }

        .form-card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
        }

        .form-card-header h4 {
            margin: 0;
            font-size: 22px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-card-body {
            padding: 35px;
        }

        /* Form Styling */
        .form-section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: #667eea;
        }

        .form-label {
            font-weight: 600;
            color: #555;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .form-control,
        .form-select {
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 12px 15px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
        }

        .form-control::placeholder {
            color: #aaa;
        }

        /* File Input Styling */
        input[type="file"] {
            padding: 10px;
        }

        /* Alert Messages */
        .alert {
            border-radius: 10px;
            border: none;
            margin-bottom: 25px;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
        }

        .alert-danger {
            background: #f8d7da;
            color: #721c24;
        }

        .alert-warning {
            background: #fff3cd;
            color: #856404;
        }

        .alert-info {
            background: #d1ecf1;
            color: #0c5460;
        }

        /* Error Messages */
        .text-danger {
            font-size: 12px;
            margin-top: 5px;
        }

        .errorlist {
            list-style: none;
            padding: 0;
            margin: 5px 0 0 0;
            color: #dc3545;
            font-size: 12px;
        }

        /* Submit Button */
        .submit-section {
            margin-top: 40px;
            padding-top: 30px;
            border-top: 2px solid #f0f0f0;
            text-align: center;
        }

        .btn-submit {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 15px 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
        }

        .btn-cancel {
            background: white;
            color: #666;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px 40px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 15px;
            text-decoration: none;
            display: inline-block;
        }

        .btn-cancel:hover {
            border-color: #667eea;
            color: #667eea;
        }

        /* Required Field Indicator */
        .required-field::after {
            content: " *";
            color: #dc3545;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body {
                padding: 20px 10px;
            }

            .form-card-body {
                padding: 25px 20px;
            }

            .header-card h2 {
                font-size: 24px;
            }

            .btn-submit,
            .btn-cancel {
                width: 100%;
                margin: 5px 0;
            }
        }

        /* Field Icons */
        .input-group-text {
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-right: none;
            border-radius: 10px 0 0 10px;
        }

        .input-group .form-control {
            border-left: none;
            border-radius: 0 10px 10px 0;
        }

        .input-group:focus-within .input-group-text {
            border-color: #667eea;
        }

        /* Help Text */
        .form-text {
            color: #6c757d;
            font-size: 12px;
            margin-top: 5px;
        }
    </style>
</head>
<body>

    <div class="page-container">

        <!-- Page Header -->
        <div class="header-card">
            <h2>
                <div class="header-icon">
                    <i class="fas fa-user-plus"></i>
                </div>
                Add New Student
            </h2>
        </div>

        <!-- Form Card -->
        <div class="form-card">

            <div class="form-card-header">
                <h4>
                    <i class="fas fa-graduation-cap"></i>
                    Student Registration Form
                </h4>
            </div>

            <div class="form-card-body">

                <!-- Messages -->
                {% if messages %}
                    {% for message in messages %}
                        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                            <strong>
                                {% if message.tags == 'success' %}
                                    <i class="fas fa-check-circle"></i>
                                {% elif message.tags == 'error' or message.tags == 'danger' %}
                                    <i class="fas fa-exclamation-circle"></i>
                                {% elif message.tags == 'warning' %}
                                    <i class="fas fa-exclamation-triangle"></i>
                                {% else %}
                                    <i class="fas fa-info-circle"></i>
                                {% endif %}
                            </strong>
                            {{ message }}
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    {% endfor %}
                {% endif %}

                <!-- Form -->
                <form method="post" enctype="multipart/form-data" novalidate>
                    {% csrf_token %}

                    <!-- Non-field Errors -->
                    {% if form.non_field_errors %}
                        <div class="alert alert-danger">
                            {{ form.non_field_errors }}
                        </div>
                    {% endif %}

                    <!-- Personal Information Section -->
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-user"></i>
                            Personal Information
                        </div>
                        <div class="row g-3">
                            {% for field in form %}
                                {% if 'first_name' in field.name or 'last_name' in field.name or 'email' in field.name or 'gender' in field.name or 'date_of_birth' in field.name or 'phone' in field.name %}
                                    <div class="col-md-6">
                                        <label for="{{ field.id_for_label }}" class="form-label {% if field.field.required %}required-field{% endif %}">
                                            {{ field.label }}
                                        </label>
                                        {{ field }}
                                        {% if field.help_text %}
                                            <div class="form-text">{{ field.help_text }}</div>
                                        {% endif %}
                                        {% if field.errors %}
                                            <div class="text-danger">
                                                {{ field.errors }}
                                            </div>
                                        {% endif %}
                                    </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>

                    <!-- Academic Information Section -->
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-book"></i>
                            Academic Information
                        </div>
                        <div class="row g-3">
                            {% for field in form %}
                                {% if 'course' in field.name or 'class' in field.name or 'section' in field.name or 'roll' in field.name or 'admission' in field.name %}
                                    <div class="col-md-6">
                                        <label for="{{ field.id_for_label }}" class="form-label {% if field.field.required %}required-field{% endif %}">
                                            {{ field.label }}
                                        </label>
                                        {{ field }}
                                        {% if field.help_text %}
                                            <div class="form-text">{{ field.help_text }}</div>
                                        {% endif %}
                                        {% if field.errors %}
                                            <div class="text-danger">
                                                {{ field.errors }}
                                            </div>
                                        {% endif %}
                                    </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>

                    <!-- Address Information Section -->
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-map-marker-alt"></i>
                            Address Information
                        </div>
                        <div class="row g-3">
                            {% for field in form %}
                                {% if 'address' in field.name or 'city' in field.name or 'state' in field.name or 'zip' in field.name or 'country' in field.name %}
                                    <div class="col-md-6">
                                        <label for="{{ field.id_for_label }}" class="form-label {% if field.field.required %}required-field{% endif %}">
                                            {{ field.label }}
                                        </label>
                                        {{ field }}
                                        {% if field.help_text %}
                                            <div class="form-text">{{ field.help_text }}</div>
                                        {% endif %}
                                        {% if field.errors %}
                                            <div class="text-danger">
                                                {{ field.errors }}
                                            </div>
                                        {% endif %}
                                    </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>

                    <!-- Other Fields Section -->
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-info-circle"></i>
                            Additional Information
                        </div>
                        <div class="row g-3">
                            {% for field in form %}
                                {% if 'password' in field.name or 'username' in field.name or 'photo' in field.name or 'profile' in field.name %}
                                    <div class="col-md-6">
                                        <label for="{{ field.id_for_label }}" class="form-label {% if field.field.required %}required-field{% endif %}">
                                            {{ field.label }}
                                        </label>
                                        {{ field }}
                                        {% if field.help_text %}
                                            <div class="form-text">{{ field.help_text }}</div>
                                        {% endif %}
                                        {% if field.errors %}
                                            <div class="text-danger">
                                                {{ field.errors }}
                                            </div>
                                        {% endif %}
                                    </div>
                                {% endif %}
                            {% endfor %}
                            
                            <!-- Catch all remaining fields -->
                            {% for field in form %}
                                {% if 'first_name' not in field.name and 'last_name' not in field.name and 'email' not in field.name and 'gender' not in field.name and 'date_of_birth' not in field.name and 'phone' not in field.name and 'course' not in field.name and 'class' not in field.name and 'section' not in field.name and 'roll' not in field.name and 'admission' not in field.name and 'address' not in field.name and 'city' not in field.name and 'state' not in field.name and 'zip' not in field.name and 'country' not in field.name and 'password' not in field.name and 'username' not in field.name and 'photo' not in field.name and 'profile' not in field.name %}
                                    <div class="col-md-6">
                                        <label for="{{ field.id_for_label }}" class="form-label {% if field.field.required %}required-field{% endif %}">
                                            {{ field.label }}
                                        </label>
                                        {{ field }}
                                        {% if field.help_text %}
                                            <div class="form-text">{{ field.help_text }}</div>
                                        {% endif %}
                                        {% if field.errors %}
                                            <div class="text-danger">
                                                {{ field.errors }}
                                            </div>
                                        {% endif %}
                                    </div>
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>

                    <!-- Submit Section -->
                    <div class="submit-section">
                        <a href="#" class="btn-cancel">
                            <i class="fas fa-times me-2"></i>Cancel
                        </a>
                        <button type="submit" class="btn-submit">
                            <i class="fas fa-save me-2"></i>Add Student
                        </button>
                    </div>

                </form>

            </div>
        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Add Bootstrap classes to Django form fields
        document.addEventListener('DOMContentLoaded', function() {
            // Add form-control class to input fields
            document.querySelectorAll('input[type="text"], input[type="email"], input[type="password"], input[type="number"], input[type="date"], input[type="tel"], input[type="file"], textarea').forEach(function(element) {
                element.classList.add('form-control');
            });
            
            // Add form-select class to select fields
            document.querySelectorAll('select').forEach(function(element) {
                element.classList.add('form-select');
            });
            
            // Handle file input styling
            document.querySelectorAll('input[type="file"]').forEach(function(element) {
                element.classList.add('form-control');
            });
        });
    </script>
</body>
</html>